<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mack Code Player (Text Editor)</title>

    <script type="text/javascript" src="/jquery.min.js"></script>
    <script type="text/javascript" src="/jquery-ui/jquery-ui.js"></script>

    <link rel="stylesheet" href="/jquery-ui/jquery-ui.css" />
    <link rel="stylesheet" href="/index.css" />

    <link rel="stylesheet" href="/bootstrap.min.css" />
    <script type="text/javascript" src="/bootstrap.min.js"></script>
  </head>
  <body class="bg-body-secondary">
    <div class="px-1">
      <!-- HEADER -->

      <div id="header" class="row bg-body-tertiary">
        <h4 class="col">Mack Code Player</h4>
        <div class="col btns">
          <button id="html" class="btn btn-secondary activeBtn">HTML</button>
          <button id="css" class="btn btn-secondary">CSS</button>
          <button id="js" class="btn btn-secondary">JavaScript</button>
          <button id="output" class="btn btn-secondary activeBtn">
            Output
          </button>
        </div>
      </div>

      <!-- CONTENTS -->

      <textarea type="text" id="htmlPanel" class="panel" placeholder="HTML">
<p>Hello World!</p></textarea
      >
      <textarea
        type="text"
        id="cssPanel"
        class="panel hidden"
        placeholder="CSS"
      >
.p {color: red;}</textarea
      >
      <textarea
        type="text"
        id="jsPanel"
        class="panel hidden"
        placeholder="JavaScript"
      >
console.log("Hello World!")</textarea
      >

      <iframe id="outputPanel" class="panel">
        <style id="outputStyle" type="text/css"></style>
        <script id="outputScript" type="text/javascript"></script>
      </iframe>
    </div>

    <!-- SCRIPTS -->

    <script type="text/javascript">
      $("button").hover(
        function () {
          $("button").addClass("hoverBtn");
        },
        function () {
          $("button").removeClass("hoverBtn");
        }
      );

      var onOff = true;
      $(function () {
        $("button").click(function () {
          $(this).toggleClass("activeBtn");
          $(this).removeClass("hoverBtn");

          var hidePanel = $(this).attr("id") + "Panel";

          $("#" + hidePanel).toggleClass("hidden");

          var numItems = 4 - $(".hidden").length;

          $(".panel").width($(window).width() / numItems - 14);
        });
      });

      $("iframe").contents().find("html").html($("#htmlPanel").val());

      $(function () {
        $("textarea").bind("input propertychange", function () {
          if ($(this).attr("id") == "htmlPanel") {
            $("iframe").contents().find("html").html(this.value);
          }
          if ($(this).attr("id") == "cssPanel") {
            $("#outputStyle").text(this.value);
          }
          if ($(this).attr("id") == "jsPanel") {
            $("#outputScript").text(this.value);
          }
        });
      });

      $(".panel").height($(window).height() - $("#header").height() - 14);
    </script>
  </body>
</html>
